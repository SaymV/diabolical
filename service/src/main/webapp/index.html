<!doctype html>
<html>
  <head>
    <meta charset="UTF-8"/>
    <title>Welcome to Diabolical!</title>
    <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
	<link rel="stylesheet" href="//netdna.bootstrapcdn.com/bootstrap/3.0.0/css/bootstrap.min.css"/>
    <link rel="stylesheet" href="prettify.css"/>
  </head>

  <body>
    <div class="container">
      <h1>Welcome to Diabolical!</h1>
      
      <p>Diabolical is a very simple web service backed by Google App Engine that
        simulates a hypothetical role-playing game.  Services and sample code for
        using those services using jQuery are shown below.</p>

      <table class="table table-condensed table-striped">
        <thead>
          <tr>
            <th style="width: 25%">Operation</th>
            <th>Method, URI, Sample Code</th>
          </tr>
        </thead>
        <tbody>
          <tr>
            <td>
              <p>Get the current list of characters.</p>
              <p>Error 404 if no characters are found.</p>
            </td>
            <td>
              <p>GET <code>http://lmu-diabolical.appspot.com/characters</code></p>
              <pre class="prettyprint linenums">
$.getJSON(
    "http://lmu-diabolical.appspot.com/characters",
    function (characters) {
        // Do something with the character list.
        characters.forEach(function (character) {
            console.log(character);
        });
    }
);</pre>
            </td>
          </tr>
          <tr>
            <td>
              <p>Get the character with a particular ID.</p>
              <p>Error 404 if there is no character with the given ID.</p>
            </td>
            <td>
              <p>GET <code>http://lmu-diabolical.appspot.com/characters/<strong><em>id</em></strong></code></p>
              <pre class="prettyprint linenums">
$.getJSON(
    "http://lmu-diabolical.appspot.com/characters/5629499534213120",
    function (character) {
        // Do something with the character.
        console.log(character);
    }
);</pre>
            </td>
          </tr>
          <tr>
            <td>
              <p>Create a random character (and we do mean random!).</p>
            </td>
            <td>
              <p>GET <code>http://lmu-diabolical.appspot.com/characters/spawn</code></p>
              <pre class="prettyprint linenums">
$.getJSON(
    "http://lmu-diabolical.appspot.com/characters/spawn",
    function (character) {
        // Do something with the character.
        console.log(character);
    }
);</pre>
            </td>
          </tr>
          <tr>
            <td>
              <p>Save a new character to the system.</p>
              <p>Status 201 CREATED is returned upon successful creation.
                The URL for the new character is returned in the <code>Location</code> header.</p>
            </td>
            <td>
              <p>POST <code>http://lmu-diabolical.appspot.com/chracters</code></p>
              <pre class="prettyprint linenums">
$.ajax({
    type: 'POST',
    url: "http://lmu-diabolical.appspot.com/characters",
    data: JSON.stringify({
        name: "Sam",
        classType: "rogue",
        gender: "MALE",
        level: 89,
        money: 4732349
    }),
    contentType: "application/json",
    dataType: "json",
    accept: "application/json",
    complete: function (jqXHR, textStatus) {
        // The new character can be accessed from the Location header.
        console.log("You may access the new character at:" +
            jqXHR.getResponseHeader("Location"));
    }
});</pre>
            </td>
          </tr>
          <tr>
            <td>
              <p>Update an existing character.</p>
              <p>Error 400 if the ID in the URL and the payload characterâ€™s ID do not match.
                Response is status 204 NO CONTENT if successful.</p>
            </td>
            <td>
              <p>PUT <code>http://lmu-diabolical.appspot.com/characters/<strong><em>id</em></strong></code></p>
              <pre class="prettyprint linenums">
$.ajax({
    type: 'PUT',
    url: "http://lmu-diabolical.appspot.com/characters/5891733057437696",
    data: JSON.stringify({
        id: 5891733057437696,
        name: "Sam",
        classType: "rogue",
        gender: "MALE",
        level: 1,
        money: 0
    }),
    contentType: "application/json",
    dataType: "json",
    accept: "application/json",
    success: function (data, textStatus, jqXHR) {
        console.log("Done: no news is good news.");
    }
});</pre>
            </td>
          </tr>
          <tr>
            <td>
              <p>Delete an existing character.</p>
              <p>Response is status 204 NO CONTENT if successful.</p> 
            </td>
            <td>
              <p>DELETE <code>http://lmu-diabolical.appspot.com/characters/<strong><em>id</em></strong></code></p>
              <pre class="prettyprint linenums">
$.ajax({
    type: 'DELETE',
    url: "http://lmu-diabolical.appspot.com/characters/5891733057437696",
    success: function (data, textStatus, jqXHR) {
        console.log("Gone baby gone.");
    }
});</pre>
            </td>
        </tbody>
      </table> 
          
      <p>The code for this service can be found in our
        <a href="https://github.com/SaymV/diabolical">GitHub repository</a>.
        The <code>master</code> branch shows the original stack; the <code>gae</code>
        branch shows what has been ported to GAE (this app!).</p>
        
      <h3>References</h3>
      
      <ul>
        <li><a href="http://api.jquery.com/jQuery.getJSON/">http://api.jquery.com/jQuery.getJSON/</a></li>
        <li><a href="http://api.jquery.com/jQuery.ajax/">http://api.jquery.com/jQuery.ajax/</a></li>
      </ul>
    </div>

    <script src="//codeorigin.jquery.com/jquery.min.js"></script>
    <script src="//netdna.bootstrapcdn.com/bootstrap/3.0.0/js/bootstrap.min.js"></script>
    <script src="prettify.js"></script>
    <script>
        $(prettyPrint);
    </script>
  </body>
</html>
